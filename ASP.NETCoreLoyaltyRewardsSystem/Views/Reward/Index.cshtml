@using ASP.NETCoreLoyaltyRewardsSystem.Areas.Identity.Data
@model ApplicationUser

@{
    ViewData["Title"] = "Rewards";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<br />
<br />
<h1 style="text-align:center; margin:auto">Reward Tracker</h1>
    <h4 style="text-align:center; margin:auto">You have <b>@Model.AvailablePoints</b> points! </h4>

<div class="centreBar">
    <div style="padding-top: 200px;">

            <img class="horizontalBar" style="position:relative; top:-70px;" width="1000" src="~/images/Graphic.png" />
            <div class="tankH">
                <div class="liquid"></div>
            </div>
    </div>
</div>



<style>




    .liquid {
        transition: height 3s;
        position: absolute;
        left: 0px;
        bottom: 0px;
        height: 20%;
        width: 100%;
        background: green;
    }

</style>

<script>

    

    window.onload = function() {
                 var liquid= document.querySelector('.liquid');

                    $.ajax({
                url: '@Url.Action("ReadPoints", "Reward")',
                type: "POST",
                data: { },
                cache: false,
                success: function (data) {
                    liquid.style.height = data + '%';

                },
                error: function () {
                    alert("error");
                }
            });
    }



</script>